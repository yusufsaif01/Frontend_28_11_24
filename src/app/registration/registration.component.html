<header class="header">
  <div class="logo">
    <a [routerLink]="['/home']">
      <img src="assets/images/website/logo.png" alt="brand-logo" />
    </a>
  </div>
</header>
<div class="site-wrapper">
  <div class="text-section">
    <div class="register-img">
      <img src="assets/images/website/goalpost.png" alt="goalpost" />
    </div>
  </div>
  <div class="form-section">
    <div class="form-box">
      <h2>Join us</h2>
      <form
        (ngSubmit)="register()"
        [formGroup]="registrationForm"
        class="form"
        id="player"
      >
        <div class="radio-block">
          <mat-radio-group class="example-radio-group">
            <mat-radio-button
              (click)="toggleForm('player')"
              class="example-radio-button"
              checked
              value="player"
            >
              Player
            </mat-radio-button>
            <mat-radio-button
              (click)="toggleForm('club')"
              class="example-radio-button"
              value="club"
            >
              Club
            </mat-radio-button>
            <mat-radio-button
              (click)="toggleForm('academy')"
              class="example-radio-button"
              value="academy"
            >
              Academy
            </mat-radio-button>
            <mat-radio-button
              (click)="toggleForm('coach')"
              class="example-radio-button"
              value="coach"
            >
              Coach
            </mat-radio-button>
          </mat-radio-group>
        </div>
        <div class="form-group" *ngIf="activeForm === 'player'">
          <div class="half">
            <div class="form-block">
              <label>First name </label>
              <input
                formControlName="first_name"
                type="text"
                matInput
                placeholder="First name"
                required
                trim="blur"
                [ngClass]="{
                  'error-input':
                    registrationForm.controls.first_name.invalid &&
                    registrationForm.controls.first_name.touched &&
                    (registrationForm.controls.first_name.errors.required ||
                      registrationForm.controls.first_name.errors.email)
                }"
              />
              <ng-container
                *ngIf="
                  registrationForm.controls.first_name.invalid &&
                  registrationForm.controls.first_name.touched
                "
              >
                <mat-error
                  class="error-text"
                  *ngIf="registrationForm.controls.first_name.errors.required"
                >
                  First name is required
                </mat-error>
                <mat-error
                  class="error-text"
                  *ngIf="
                    !registrationForm.controls.first_name.errors.required &&
                    registrationForm.controls.first_name.errors.pattern
                  "
                >
                  First name is invalid
                </mat-error>
                <mat-error
                  class="error-text"
                  *ngIf="
                    !registrationForm.controls.first_name.errors.required &&
                    !registrationForm.controls.first_name.errors.pattern &&
                    registrationForm.controls.first_name.errors.maxlength
                  "
                >
                  First name cannot exceed 25 characters
                </mat-error>
              </ng-container>
            </div>
          </div>

          <div class="half">
            <div class="form-block">
              <label>Last name </label>
              <input
                formControlName="last_name"
                type="text"
                matInput
                placeholder="Last name"
                required
                trim="blur"
                [ngClass]="{
                  'error-input':
                    registrationForm.controls.last_name.invalid &&
                    registrationForm.controls.last_name.touched &&
                    (registrationForm.controls.last_name.errors.required ||
                      registrationForm.controls.last_name.errors.email)
                }"
              />
              <ng-container
                *ngIf="
                  registrationForm.controls.last_name.invalid &&
                  registrationForm.controls.last_name.touched
                "
              >
                <mat-error
                  class="error-text"
                  *ngIf="registrationForm.controls.last_name.errors.required"
                >
                  Last name is required
                </mat-error>
                <mat-error
                  class="error-text"
                  *ngIf="
                    !registrationForm.controls.last_name.errors.required &&
                    registrationForm.controls.last_name.errors.pattern
                  "
                >
                  Last name is invalid
                </mat-error>
              </ng-container>
            </div>
          </div>
        </div>

        <div class="form-group" *ngIf="activeForm === 'coach'">
          <div class="half">
            <div class="form-block">
              <label>First name </label>
              <input
                formControlName="first_name"
                type="text"
                matInput
                placeholder="First name"
                required
                trim="blur"
                [ngClass]="{
                  'error-input':
                    registrationForm.controls.first_name.invalid &&
                    registrationForm.controls.first_name.touched &&
                    (registrationForm.controls.first_name.errors.required ||
                      registrationForm.controls.first_name.errors.email)
                }"
              />
              <ng-container
                *ngIf="
                  registrationForm.controls.first_name.invalid &&
                  registrationForm.controls.first_name.touched
                "
              >
                <mat-error
                  class="error-text"
                  *ngIf="registrationForm.controls.first_name.errors.required"
                >
                  First name is required
                </mat-error>
                <mat-error
                  class="error-text"
                  *ngIf="
                    !registrationForm.controls.first_name.errors.required &&
                    registrationForm.controls.first_name.errors.pattern
                  "
                >
                  First name is invalid
                </mat-error>
                <mat-error
                  class="error-text"
                  *ngIf="
                    !registrationForm.controls.first_name.errors.required &&
                    !registrationForm.controls.first_name.errors.pattern &&
                    registrationForm.controls.first_name.errors.maxlength
                  "
                >
                  First name cannot exceed 25 characters
                </mat-error>
              </ng-container>
            </div>
          </div>

          <div class="half">
            <div class="form-block">
              <label>Last name </label>
              <input
                formControlName="last_name"
                type="text"
                matInput
                placeholder="Last name"
                required
                trim="blur"
                [ngClass]="{
                  'error-input':
                    registrationForm.controls.last_name.invalid &&
                    registrationForm.controls.last_name.touched &&
                    (registrationForm.controls.last_name.errors.required ||
                      registrationForm.controls.last_name.errors.email)
                }"
              />
              <ng-container
                *ngIf="
                  registrationForm.controls.last_name.invalid &&
                  registrationForm.controls.last_name.touched
                "
              >
                <mat-error
                  class="error-text"
                  *ngIf="registrationForm.controls.last_name.errors.required"
                >
                  Last name is required
                </mat-error>
                <mat-error
                  class="error-text"
                  *ngIf="
                    !registrationForm.controls.last_name.errors.required &&
                    registrationForm.controls.last_name.errors.pattern
                  "
                >
                  Last name is invalid
                </mat-error>
              </ng-container>
            </div>
          </div>
        </div>

        <div class="form-block" *ngIf="activeForm === 'club'">
          <label>Club name </label>
          <input
            formControlName="name"
            type="text"
            matInput
            placeholder="Club name"
            trim="blur"
            [ngClass]="{
              'error-input':
                registrationForm.controls.name.invalid &&
                registrationForm.controls.name.touched &&
                (registrationForm.controls.name.errors.required ||
                  registrationForm.controls.name.errors.email)
            }"
          />
          <ng-container
            *ngIf="
              registrationForm.controls.name.invalid &&
              registrationForm.controls.name.touched
            "
          >
            <mat-error
              class="error-text"
              *ngIf="registrationForm.controls.name.errors.required"
            >
              Club name is required
            </mat-error>
            <mat-error
              class="error-text"
              *ngIf="
                !registrationForm.controls.name.errors.required &&
                registrationForm.controls.name.errors.pattern
              "
            >
              Club name is invalid
            </mat-error>
            <mat-error
              class="error-text"
              *ngIf="
                !registrationForm.controls.name.errors.required &&
                !registrationForm.controls.name.errors.pattern &&
                registrationForm.controls.name.errors.maxlength
              "
            >
              Club Name cannot exceed 25 characters
            </mat-error>
          </ng-container>
        </div>

        <div class="form-block" *ngIf="activeForm === 'academy'">
          <label>Academy name </label>
          <input
            formControlName="name"
            type="text"
            matInput
            placeholder="Academy name"
            required
            trim="blur"
            [ngClass]="{
              'error-input':
                registrationForm.controls.name.invalid &&
                registrationForm.controls.name.touched &&
                (registrationForm.controls.name.errors.required ||
                  registrationForm.controls.name.errors.email)
            }"
          />
          <ng-container
            *ngIf="
              registrationForm.controls.name.invalid &&
              registrationForm.controls.name.touched
            "
          >
            <mat-error
              class="error-text"
              *ngIf="registrationForm.controls.name.errors.required"
            >
              Academy name is required
            </mat-error>
            <mat-error
              class="error-text"
              *ngIf="
                !registrationForm.controls.name.errors.required &&
                registrationForm.controls.name.errors.pattern
              "
            >
              Academy name is invalid
            </mat-error>
            <mat-error
              class="error-text"
              *ngIf="
                !registrationForm.controls.name.errors.required &&
                !registrationForm.controls.name.errors.pattern &&
                registrationForm.controls.name.errors.maxlength
              "
            >
              Academy name cannot exceed 25 characters
            </mat-error>
          </ng-container>
        </div>

        <div class="form-block">
          <label>Email </label>
          <input
            formControlName="email"
            type="text"
            matInput
            autocomplete="off"
            placeholder="Email"
            trim="blur"
            [ngClass]="{
              'error-input':
                registrationForm.controls.email.invalid &&
                registrationForm.controls.email.touched &&
                (registrationForm.controls.email.errors.required ||
                  registrationForm.controls.email.errors.email)
            }"
          />
          <ng-container
            *ngIf="
              registrationForm.controls.email.invalid &&
              registrationForm.controls.email.touched
            "
          >
            <mat-error
              class="error-text"
              *ngIf="registrationForm.controls.email.errors.required"
            >
              Email is required
            </mat-error>
            <mat-error
              class="error-text"
              *ngIf="registrationForm.controls.email.errors.email"
            >
              Email format is Invalid
            </mat-error>
          </ng-container>
        </div>
        <div class="form-block">
          <label>Contact no.</label>

          <div class="phone-block">
            <div class="country-code">
              <select name="country_code" formControlName="country_code">
                <option value="+91">+91</option>
                <option value="+91">+1</option>
              </select>
            </div>
            <div class="phone-number">
              <input
                formControlName="phone"
                type="text"
                matInput
                autocomplete="off"
                placeholder="Contact no."
                trim="blur"
              />
            </div>
            <!-- <ng-container
              *ngIf="
                registrationForm.controls.phone.invalid &&
                registrationForm.controls.phone.touched
              "
            >
            <mat-error
                class="error-text"
                *ngIf="registrationForm.controls.phone.errors.required"
              >
                Contact number is required
              </mat-error> 
             <ng-template #lengthBlock>
                <mat-error
                  class="error-text"
                  *ngIf="registrationForm.controls.phone.errors.minlength"
                >
                  Please provide number upto
                  {{
                    registrationForm.controls.phone.errors.minlength
                      .requiredLength
                  }}
                  digits
                </mat-error> 
                <mat-error
                  class="error-text"
                  *ngIf="registrationForm.controls.phone.errors.maxlength"
                >
                  Please provide number upto
                  {{
                    registrationForm.controls.phone.errors.maxlength
                      .requiredLength
                  }}
                  digits
                </mat-error> 
             </ng-template>    
            

           <mat-error
                class="error-text"
                *ngIf="
                  registrationForm.controls.phone.errors.pattern;
                  else lengthBlock
                "
              >
                Contact number format is invalid
              </mat-error>  
            </ng-container>  -->
          </div>
        </div>

        <div class="form-block" *ngIf="activeForm === 'player'">
          <label>Date of birth </label>
          <div class="date">
            <input
              formControlName="dob"
              matInput
              [matDatepicker]="picker"
              placeholder="Date of birth"
              readonly
              [max]="maxDate"
            />

            <mat-datepicker-toggle
              matSuffix
              [for]="picker"
            ></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
            <mat-error
              class="error-text"
              *ngIf="
                registrationForm.controls.dob.invalid &&
                registrationForm.controls.dob.touched
              "
            >
              <span
                *ngIf="registrationForm.controls.dob.errors.required"
                translate
                >Date of Birth is required</span
              >
            </mat-error>
          </div>
        </div>

        <div class="form-block" *ngIf="activeForm === 'coach'">
          <label>Date of birth </label>
          <div class="date">
            <input
              formControlName="dob"
              matInput
              [matDatepicker]="picker"
              placeholder="Date of birth"
              readonly
              [max]="maxDate"
            />

            <mat-datepicker-toggle
              matSuffix
              [for]="picker"
            ></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
            <mat-error
              class="error-text"
              *ngIf="
                registrationForm.controls.dob.invalid &&
                registrationForm.controls.dob.touched
              "
            >
              <span
                *ngIf="registrationForm.controls.dob.errors.required"
                translate
                >Date of Birth is required</span
              >
            </mat-error>
          </div>
        </div>
        <div
          class="form-block"
          *ngIf="activeForm === 'club' || activeForm === 'academy'"
        >
          <label
            >Type
            <span [matTooltip]="tooltip" matTooltipPosition="above">
              <img
                src="assets/images/global/info.svg"
                alt="info"
                class="info"
              /> </span
          ></label>
          <select
            formControlName="type"
            matNativeControl
            required
            (change)="onSelectType($event.target.value)"
            [ngClass]="{
              'error-input':
                registrationForm.controls.type.invalid &&
                registrationForm.controls.type.touched &&
                (registrationForm.controls.type.errors.required ||
                  registrationForm.controls.type.errors.type)
            }"
          >
            <option value="">Select Type</option>
            <option *ngFor="let type of typeArray" [value]="type.value">{{
              type.name
            }}</option>
          </select>
          <ng-container
            *ngIf="
              registrationForm.controls.type.invalid &&
              registrationForm.controls.type.touched
            "
          >
            <mat-error
              class="error-text"
              *ngIf="registrationForm.controls.type.errors.required"
            >
              Type is required
            </mat-error>
          </ng-container>
        </div>

        <!-- <div class="recapcha">
          <img src="assets/images/website/recaptcha.png" alt="recaptcha" />
        </div> -->

        <div class="remberme">
          <mat-checkbox class="example-margin" formControlName="termsAccepted">
            <a href="term&condition" target="_blank">
              Accept terms and conditions</a
            >
          </mat-checkbox>
        </div>
        <button
          type="submit"
          class="btn btn-primary btn-block"
          [disabled]="registrationForm.invalid"
          (click)="trackSingupButtonClick()"
        >
          Agree & Join
        </button>
      </form>
      <p>Already have an account ? <a [routerLink]="['/login']">Sign in</a></p>
    </div>
  </div>
</div>
<app-footer></app-footer>
